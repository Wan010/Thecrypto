<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CryptoHub - Your Crypto Journey Starts Here</title>
    <link rel="stylesheet" href="styles/style.css">
    <style>
        /* Additional home page styles */
        .invoice-section {
            padding: 80px 0;
            background: #f8f9fa;
        }
        
        .invoice-simple {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
        }
        
        .invoice-form {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .invoice-preview {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 2px solid #00d4ff;
        }
        
        .invoice-header {
            display: flex;
            justify-content: space-between;
            border-bottom: 2px solid #00d4ff;
            padding-bottom: 1rem;
            margin-bottom: 1rem;
        }
        
        .invoice-details p {
            margin: 0.5rem 0;
            padding: 0.5rem 0;
            border-bottom: 1px solid #eee;
        }
        
        @media (max-width: 768px) {
            .invoice-simple {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Live Crypto Ticker -->
<div class="live-ticker">
    <div class="ticker-content">
        <span class="ticker-label">LIVE PRICES:</span>
        <div class="ticker-items">
            <span class="ticker-item">BTC: $45,678.90 ‚Üó</span>
            <span class="ticker-item">ETH: $3,456.78 ‚Üó</span>
            <span class="ticker-item">ADA: $1.23 ‚Üò</span>
            <span class="ticker-item">SOL: $98.76 ‚Üó</span>
            <span class="ticker-item">DOT: $7.89 ‚Üó</span>
        </div>
    </div>
</div>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2>üöÄ CryptoHub</h2>
            </div>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="about.html" class="nav-link">About</a></li>
                <li><a href="services.html" class="nav-link">Services</a></li>
                <li><a href="blog.html" class="nav-link">Blog</a></li>
                <li><a href="contact.html" class="nav-link">Contact</a></li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Start Your Crypto Journey Today</h1>
            <p>Buy, sell, and trade cryptocurrencies with confidence</p>
            <div class="hero-buttons">
                <button class="btn-primary" id="getStartedBtn">Get Started</button>
                <button class="btn-secondary" id="learnMoreBtn">Learn More</button>
            </div>
        </div>
    </section>

    <!-- Features -->
    <section class="features">
        <div class="container">
            <h2>Why Choose CryptoHub?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <h3>üí∞ Secure Trading</h3>
                    <p>Advanced security measures to protect your investments</p>
                </div>
                <div class="feature-card">
                    <h3>üìä Live Market Data</h3>
                    <p>Real-time prices and market insights</p>
                </div>
                <div class="feature-card">
                    <h3>üõ°Ô∏è Insured Wallet</h3>
                    <p>Your funds are protected with insurance</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Crypto Prices -->
    <section class="crypto-prices">
        <div class="container">
            <h2>Popular Cryptocurrencies</h2>
            <div class="prices-grid">
                <div class="price-card">
                    <h4>Bitcoin (BTC)</h4>
                    <div class="price">$45,678.90</div>
                    <div class="change positive">+2.5%</div>
                </div>
                <div class="price-card">
                    <h4>Ethereum (ETH)</h4>
                    <div class="price">$3,456.78</div>
                    <div class="change positive">+1.8%</div>
                </div>
                <div class="price-card">
                    <h4>Cardano (ADA)</h4>
                    <div class="price">$1.23</div>
                    <div class="change negative">-0.5%</div>
                </div>
            </div>
        </div>
    </section>

    <!-- Advanced Invoice Generator -->
<section class="advanced-invoice-generator">
    <div class="container">
        <h2>Professional Invoice Generator</h2>
        <p class="section-subtitle">Create beautiful invoices for crypto payments or traditional business</p>
        
        <!-- Invoice Type Tabs -->
        <div class="invoice-type-tabs">
            <button class="type-tab active" data-type="crypto">Crypto Invoice</button>
            <button class="type-tab" data-type="regular">Regular Invoice</button>
            <button class="type-tab" data-type="recurring">Recurring Invoice</button>
        </div>

        <div class="invoice-workspace">
            <!-- Crypto Invoice Form -->
            <div class="invoice-form crypto-invoice active">
                <div class="form-header">
                    <h3>ü™ô Crypto Invoice</h3>
                    <p>Accept payments in Bitcoin, Ethereum, and other cryptocurrencies</p>
                </div>
                
                <form id="cryptoInvoiceForm">
                    <!-- Client Information -->
                    <div class="form-section">
                        <h4>Client Information</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Client Name *</label>
                                <input type="text" id="cryptoClientName" placeholder="Enter client name" required>
                            </div>
                            <div class="form-group">
                                <label>Client Email</label>
                                <input type="email" id="cryptoClientEmail" placeholder="client@email.com">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Client Wallet Address</label>
                            <input type="text" id="cryptoWallet" placeholder="0x... or bc1...">
                        </div>
                    </div>

                    <!-- Invoice Details -->
                    <div class="form-section">
                        <h4>Invoice Details</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Invoice Number *</label>
                                <input type="text" id="cryptoInvoiceNumber" value="CRYPTO-INV-001" required>
                            </div>
                            <div class="form-group">
                                <label>Due Date *</label>
                                <input type="date" id="cryptoDueDate" required>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Details -->
                    <div class="form-section">
                        <h4>Payment Details</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Preferred Cryptocurrency *</label>
                                <select id="cryptoType" required>
                                    <option value="BTC">Bitcoin (BTC)</option>
                                    <option value="ETH">Ethereum (ETH)</option>
                                    <option value="USDT">Tether (USDT)</option>
                                    <option value="USDC">USD Coin (USDC)</option>
                                    <option value="SOL">Solana (SOL)</option>
                                    <option value="ADA">Cardano (ADA)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Amount (USD) *</label>
                                <input type="number" id="cryptoAmountUSD" placeholder="500.00" step="0.01" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Service Description *</label>
                            <input type="text" id="cryptoService" placeholder="Crypto trading consultation, NFT creation, etc." required>
                        </div>
                    </div>

                    <!-- Additional Options -->
                    <div class="form-section">
                        <h4>Additional Options</h4>
                        <div class="form-options">
                            <label class="checkbox">
                                <input type="checkbox" id="cryptoAutoConvert"> Auto-convert to stablecoin
                            </label>
                            <label class="checkbox">
                                <input type="checkbox" id="cryptoMultiChain"> Accept multiple chains
                            </label>
                            <label class="checkbox">
                                <input type="checkbox" id="cryptoQR"> Generate payment QR code
                            </label>
                        </div>
                    </div>

                    <button type="submit" class="btn-primary btn-large">Generate Crypto Invoice</button>
                </form>
            </div>

            <!-- Regular Invoice Form -->
            <div class="invoice-form regular-invoice">
                <div class="form-header">
                    <h3>üìÑ Regular Invoice</h3>
                    <p>Traditional invoice for fiat payments and standard business services</p>
                </div>
                
                <form id="regularInvoiceForm">
                    <!-- Client Information -->
                    <div class="form-section">
                        <h4>Client Information</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Client/Business Name *</label>
                                <input type="text" id="regularClientName" placeholder="Enter client or business name" required>
                            </div>
                            <div class="form-group">
                                <label>Contact Email *</label>
                                <input type="email" id="regularClientEmail" placeholder="billing@company.com" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Phone Number</label>
                                <input type="tel" id="regularClientPhone" placeholder="+1 (555) 123-4567">
                            </div>
                            <div class="form-group">
                                <label>Business Address</label>
                                <input type="text" id="regularClientAddress" placeholder="123 Business St, City">
                            </div>
                        </div>
                    </div>

                    <!-- Invoice Details -->
                    <div class="form-section">
                        <h4>Invoice Details</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Invoice Number *</label>
                                <input type="text" id="regularInvoiceNumber" value="REG-INV-001" required>
                            </div>
                            <div class="form-group">
                                <label>Invoice Date *</label>
                                <input type="date" id="regularInvoiceDate" required>
                            </div>
                            <div class="form-group">
                                <label>Due Date *</label>
                                <input type="date" id="regularDueDate" required>
                            </div>
                        </div>
                    </div>

                    <!-- Items & Services -->
                    <div class="form-section">
                        <h4>Items & Services</h4>
                        <div class="items-container" id="regularItemsContainer">
                            <div class="invoice-item">
                                <div class="item-row">
                                    <input type="text" class="item-desc" placeholder="Service description" required>
                                    <input type="number" class="item-qty" placeholder="Qty" value="1" min="1" required>
                                    <input type="number" class="item-price" placeholder="Price" step="0.01" required>
                                    <span class="item-total">$0.00</span>
                                    <button type="button" class="btn-remove-item">√ó</button>
                                </div>
                            </div>
                        </div>
                        <button type="button" class="btn-secondary" id="addRegularItem">+ Add Item</button>
                        
                        <div class="tax-row">
                            <div class="form-group">
                                <label>Tax Rate (%)</label>
                                <input type="number" id="taxRate" value="0" step="0.01" min="0" max="50">
                            </div>
                            <div class="form-group">
                                <label>Discount ($)</label>
                                <input type="number" id="discountAmount" value="0" step="0.01" min="0">
                            </div>
                        </div>
                    </div>

                    <!-- Payment Methods -->
                    <div class="form-section">
                        <h4>Payment Methods</h4>
                        <div class="payment-options">
                            <label class="radio">
                                <input type="radio" name="paymentMethod" value="bank" checked> Bank Transfer
                            </label>
                            <label class="radio">
                                <input type="radio" name="paymentMethod" value="paypal"> PayPal
                            </label>
                            <label class="radio">
                                <input type="radio" name="paymentMethod" value="card"> Credit Card
                            </label>
                            <label class="radio">
                                <input type="radio" name="paymentMethod" value="crypto"> Cryptocurrency
                            </label>
                        </div>
                    </div>

                    <button type="submit" class="btn-primary btn-large">Generate Regular Invoice</button>
                </form>
            </div>

            <!-- Recurring Invoice Form -->
            <div class="invoice-form recurring-invoice">
                <div class="form-header">
                    <h3>üîÑ Recurring Invoice</h3>
                    <p>Set up automatic recurring invoices for subscription services</p>
                </div>
                
                <form id="recurringInvoiceForm">
                    <div class="form-section">
                        <h4>Subscription Details</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Client Name *</label>
                                <input type="text" id="recurringClientName" placeholder="Enter client name" required>
                            </div>
                            <div class="form-group">
                                <label>Billing Cycle *</label>
                                <select id="billingCycle" required>
                                    <option value="weekly">Weekly</option>
                                    <option value="monthly" selected>Monthly</option>
                                    <option value="quarterly">Quarterly</option>
                                    <option value="yearly">Yearly</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label>Amount per Cycle ($) *</label>
                                <input type="number" id="recurringAmount" placeholder="100.00" step="0.01" required>
                            </div>
                            <div class="form-group">
                                <label>Start Date *</label>
                                <input type="date" id="recurringStartDate" required>
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="btn-primary btn-large">Setup Recurring Invoice</button>
                </form>
            </div>

            <!-- Invoice Preview -->
            <div class="invoice-preview-container">
                <div class="preview-header">
                    <h3>Invoice Preview</h3>
                    <div class="preview-actions">
                        <button class="btn-outline" id="refreshPreview">üîÑ Refresh</button>
                        <button class="btn-outline" id="togglePreview">üì± Toggle View</button>
                    </div>
                </div>
                
                <div class="invoice-preview" id="invoicePreview">
                    <!-- Preview will be generated here -->
                    <div class="preview-placeholder">
                        <div class="placeholder-icon">üìÑ</div>
                        <h4>Your Invoice Preview</h4>
                        <p>Fill out the form to see your invoice preview here</p>
                    </div>
                </div>

                <div class="preview-actions-main">
                    <button class="btn-primary" id="downloadInvoice">
                        üì• Download PDF
                    </button>
                    <button class="btn-secondary" id="printInvoice">
                        üñ®Ô∏è Print Invoice
                    </button>
                    <button class="btn-outline" id="shareInvoice">
                        üì§ Share Link
                    </button>
                    <button class="btn-outline" id="saveTemplate">
                        üíæ Save Template
                    </button>
                </div>

                <!-- Quick Stats -->
                <div class="invoice-stats">
                    <div class="stat-card">
                        <div class="stat-icon">üí∞</div>
                        <div class="stat-info">
                            <span class="stat-value" id="totalInvoiced">$0.00</span>
                            <span class="stat-label">Total Invoiced</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìä</div>
                        <div class="stat-info">
                            <span class="stat-value" id="invoicesCreated">0</span>
                            <span class="stat-label">Invoices Created</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚è∞</div>
                        <div class="stat-info">
                            <span class="stat-value" id="timeSaved">0h</span>
                            <span class="stat-label">Time Saved</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

    <!-- Newsletter -->
    <section class="newsletter">
        <div class="container">
            <div class="newsletter-content">
                <h2>Stay Updated</h2>
                <p>Get the latest crypto news and market insights</p>
                <form class="newsletter-form" id="newsletterForm">
                    <input type="email" placeholder="Enter your email" required>
                    <button type="submit" class="btn-primary">Subscribe</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Crypto News Section -->
<section class="crypto-news">
    <div class="container">
        <h2>Latest Crypto News</h2>
        <div class="news-grid">
            <article class="news-card">
                <div class="news-image">
                    <div class="news-badge">BREAKING</div>
                </div>
                <div class="news-content">
                    <h3>Bitcoin ETF Approval Expected This Week</h3>
                    <p>Major financial institutions await SEC decision on spot Bitcoin ETF that could bring billions into crypto markets.</p>
                    <div class="news-meta">
                        <span class="news-source">CryptoNews</span>
                        <span class="news-time">2 hours ago</span>
                    </div>
                </div>
            </article>

            <article class="news-card">
                <div class="news-image">
                    <div class="news-badge trend">TRENDING</div>
                </div>
                <div class="news-content">
                    <h3>Ethereum Upgrade Boosts Network Speed</h3>
                    <p>Latest protocol update reduces gas fees and improves transaction throughput by 40%.</p>
                    <div class="news-meta">
                        <span class="news-source">Blockchain Daily</span>
                        <span class="news-time">5 hours ago</span>
                    </div>
                </div>
            </article>

            <article class="news-card">
                <div class="news-image">
                    <div class="news-badge analysis">ANALYSIS</div>
                </div>
                <div class="news-content">
                    <h3>DeFi Market Cap Surpasses $100B</h3>
                    <p>Decentralized finance protocols see massive growth as traditional finance shows interest.</p>
                    <div class="news-meta">
                        <span class="news-source">DeFi Pulse</span>
                        <span class="news-time">1 day ago</span>
                    </div>
                </div>
            </article>
        </div>
    </div>
</section>

    <!-- Crypto Calculator -->
<section class="crypto-calculator">
    <div class="container">
        <h2>Crypto Calculator</h2>
        <div class="calculator-tabs">
            <button class="tab-btn active" data-tab="profit">Profit Calculator</button>
            <button class="tab-btn" data-tab="converter">Currency Converter</button>
            <button class="tab-btn" data-tab="mining">Mining Calculator</button>
        </div>

        <div class="tab-content active" id="profitTab">
            <div class="calculator-form">
                <div class="form-row">
                    <div class="form-group">
                        <label>Investment Amount ($)</label>
                        <input type="number" id="investmentAmount" value="1000">
                    </div>
                    <div class="form-group">
                        <label>Cryptocurrency</label>
                        <select id="calcCrypto">
                            <option value="BTC">Bitcoin (BTC)</option>
                            <option value="ETH">Ethereum (ETH)</option>
                            <option value="ADA">Cardano (ADA)</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Buy Price ($)</label>
                        <input type="number" id="buyPrice" value="45000">
                    </div>
                    <div class="form-group">
                        <label>Sell Price ($)</label>
                        <input type="number" id="sellPrice" value="50000">
                    </div>
                </div>
                <button class="btn-primary" onclick="calculateProfit()">Calculate</button>
            </div>

            <div class="calculator-results">
                <h3>Results</h3>
                <div class="result-item">
                    <span>Coins Purchased:</span>
                    <span id="resultCoins">0.0222 BTC</span>
                </div>
                <div class="result-item">
                    <span>Total Value:</span>
                    <span id="resultTotal">$1,110.00</span>
                </div>
                <div class="result-item">
                    <span>Profit/Loss:</span>
                    <span id="resultProfit" class="positive">+$110.00</span>
                </div>
                <div class="result-item">
                    <span>Return Percentage:</span>
                    <span id="resultPercentage" class="positive">+11%</span>
                </div>
            </div>
        </div>
    </div>
</section>
    
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 CryptoHub. Making crypto easy for everyone.</p>
        </div>
    </footer>

    <script>
        // Set current date
        document.getElementById('previewDate').textContent = new Date().toLocaleDateString();
        
        // Invoice form functionality
        document.getElementById('invoiceForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const clientName = document.getElementById('clientName').value;
            const serviceDesc = document.getElementById('serviceDesc').value;
            const amount = document.getElementById('invoiceAmount').value;
            
            // Update preview
            document.getElementById('previewClient').textContent = clientName;
            document.getElementById('previewService').textContent = serviceDesc;
            document.getElementById('previewAmount').textContent = amount;
            
            // Generate invoice ID
            const invoiceId = 'INV-' + Date.now().toString().slice(-6);
            document.getElementById('previewId').textContent = invoiceId;
            
            alert('Invoice preview updated! You can now download or print it.');
        });
        
        // Download invoice function
        function downloadInvoice() {
            const clientName = document.getElementById('previewClient').textContent;
            alert('In a real application, this would download a PDF invoice for: ' + clientName + '\n\nFor now, you can print the page.');
        }
        
        // Print invoice function
        function printInvoice() {
            window.print();
        }
        
        // Button functionality
        document.getElementById('getStartedBtn').addEventListener('click', function() {
            window.location.href = 'services.html';
        });
        
        document.getElementById('learnMoreBtn').addEventListener('click', function() {
            window.location.href = 'about.html';
        });
        
        // Newsletter form
        document.getElementById('newsletterForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const email = this.querySelector('input[type="email"]').value;
            alert('Thank you for subscribing with: ' + email);
            this.reset();
        });
        
        // Mobile menu functionality
        const hamburger = document.querySelector('.hamburger');
        const navMenu = document.querySelector('.nav-menu');
        
        if (hamburger) {
            hamburger.addEventListener('click', function() {
                hamburger.classList.toggle('active');
                navMenu.classList.toggle('active');
            });
        }
        
        // Close mobile menu when clicking links
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', () => {
                hamburger.classList.remove('active');
                navMenu.classList.remove('active');
            });
        });
    </script>

    <script>
    // Invoice Generator Functionality
    document.addEventListener('DOMContentLoaded', function() {
        // Tab Switching
        const typeTabs = document.querySelectorAll('.type-tab');
        const invoiceForms = document.querySelectorAll('.invoice-form');
        
        typeTabs.forEach(tab => {
            tab.addEventListener('click', function() {
                const type = this.getAttribute('data-type');
                
                // Update active tab
                typeTabs.forEach(t => t.classList.remove('active'));
                this.classList.add('active');
                
                // Show corresponding form
                invoiceForms.forEach(form => {
                    form.classList.remove('active');
                    if (form.classList.contains(type + '-invoice')) {
                        form.classList.add('active');
                    }
                });
                
                updatePreview();
            });
        });

        // Add items to regular invoice
        const addItemBtn = document.getElementById('addRegularItem');
        const itemsContainer = document.getElementById('regularItemsContainer');
        
        if (addItemBtn) {
            addItemBtn.addEventListener('click', function() {
                const newItem = document.createElement('div');
                newItem.className = 'invoice-item';
                newItem.innerHTML = `
                    <div class="item-row">
                        <input type="text" class="item-desc" placeholder="Service description" required>
                        <input type="number" class="item-qty" placeholder="Qty" value="1" min="1" required>
                        <input type="number" class="item-price" placeholder="Price" step="0.01" required>
                        <span class="item-total">$0.00</span>
                        <button type="button" class="btn-remove-item">√ó</button>
                    </div>
                `;
                itemsContainer.appendChild(newItem);
                
                // Add event listeners to new inputs
                attachItemListeners(newItem);
                updatePreview();
            });
        }

        // Remove item functionality
        function attachItemListeners(itemElement) {
            const inputs = itemElement.querySelectorAll('.item-desc, .item-qty, .item-price');
            const removeBtn = itemElement.querySelector('.btn-remove-item');
            
            inputs.forEach(input => {
                input.addEventListener('input', updateItemTotal);
            });
            
            removeBtn.addEventListener('click', function() {
                itemElement.remove();
                updatePreview();
            });
        }

        // Calculate item total
        function updateItemTotal() {
            const item = this.closest('.invoice-item');
            const qty = parseFloat(item.querySelector('.item-qty').value) || 0;
            const price = parseFloat(item.querySelector('.item-price').value) || 0;
            const total = item.querySelector('.item-total');
            
            total.textContent = '$' + (qty * price).toFixed(2);
            updatePreview();
        }

        // Attach listeners to initial items
        document.querySelectorAll('.invoice-item').forEach(item => {
            attachItemListeners(item);
        });

        // Form Submissions
        document.getElementById('cryptoInvoiceForm').addEventListener('submit', function(e) {
            e.preventDefault();
            generateCryptoInvoice();
        });

        document.getElementById('regularInvoiceForm').addEventListener('submit', function(e) {
            e.preventDefault();
            generateRegularInvoice();
        });

        document.getElementById('recurringInvoiceForm').addEventListener('submit', function(e) {
            e.preventDefault();
            setupRecurringInvoice();
        });

        // Action Buttons
        document.getElementById('downloadInvoice').addEventListener('click', downloadInvoice);
        document.getElementById('printInvoice').addEventListener('click', printInvoice);
        document.getElementById('shareInvoice').addEventListener('click', shareInvoice);
        document.getElementById('saveTemplate').addEventListener('click', saveTemplate);
        document.getElementById('refreshPreview').addEventListener('click', updatePreview);
        document.getElementById('togglePreview').addEventListener('click', togglePreview);

        // Set default dates
        setDefaultDates();
        updatePreview();
    });

    // Set default dates
    function setDefaultDates() {
        const today = new Date().toISOString().split('T')[0];
        const nextWeek = new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];
        
        // Set due dates to next week
        document.querySelectorAll('input[type="date"]').forEach(input => {
            if (input.id.includes('DueDate')) {
                input.value = nextWeek;
            } else if (input.id.includes('Date')) {
                input.value = today;
            }
        });
    }

    // Update Preview
    function updatePreview() {
        const activeTab = document.querySelector('.type-tab.active').getAttribute('data-type');
        const preview = document.getElementById('invoicePreview');
        
        if (activeTab === 'crypto') {
            preview.innerHTML = generateCryptoPreview();
        } else if (activeTab === 'regular') {
            preview.innerHTML = generateRegularPreview();
        } else {
            preview.innerHTML = generateRecurringPreview();
        }
        
        updateStats();
    }

    // Generate Crypto Invoice Preview
    function generateCryptoPreview() {
        const clientName = document.getElementById('cryptoClientName').value || 'Client Name';
        const amount = document.getElementById('cryptoAmountUSD').value || '0.00';
        const service = document.getElementById('cryptoService').value || 'Service Description';
        const cryptoType = document.getElementById('cryptoType').value;
        
        return `
            <div class="preview-crypto">
                <div class="preview-header-crypto">
                    <h2>CRYPTO INVOICE</h2>
                    <div class="crypto-badge">${cryptoType}</div>
                </div>
                <div class="preview-client">
                    <strong>Bill To:</strong>
                    <p>${clientName}</p>
                </div>
                <div class="preview-amount-crypto">
                    <div class="crypto-amount">$${amount} USD</div>
                    <div class="equivalent">‚âà 0.0000 ${cryptoType}</div>
                </div>
                <div class="preview-service">
                    <strong>Service:</strong>
                    <p>${service}</p>
                </div>
                <div class="preview-wallet">
                    <strong>Payment Address:</strong>
                    <code>bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh</code>
                </div>
                <div class="preview-qr">
                    <div class="qr-placeholder">[QR Code]</div>
                    <p>Scan to pay with ${cryptoType}</p>
                </div>
            </div>
        `;
    }

    // Generate Regular Invoice Preview
    function generateRegularPreview() {
        // Calculate totals from items
        let subtotal = 0;
        document.querySelectorAll('.invoice-item').forEach(item => {
            const qty = parseFloat(item.querySelector('.item-qty').value) || 0;
            const price = parseFloat(item.querySelector('.item-price').value) || 0;
            subtotal += qty * price;
        });
        
        const taxRate = parseFloat(document.getElementById('taxRate').value) || 0;
        const discount = parseFloat(document.getElementById('discountAmount').value) || 0;
        const taxAmount = subtotal * (taxRate / 100);
        const total = subtotal + taxAmount - discount;
        
        return `
            <div class="preview-regular">
                <div class="preview-header-regular">
                    <h2>INVOICE</h2>
                    <div class="invoice-number">#REG-INV-001</div>
                </div>
                <div class="preview-details">
                    <div class="bill-to">
                        <strong>Bill To:</strong>
                        <p>Client Business Name</p>
                    </div>
                    <div class="invoice-info">
                        <p><strong>Date:</strong> ${new Date().toLocaleDateString()}</p>
                        <p><strong>Due Date:</strong> 7 days</p>
                    </div>
                </div>
                <div class="preview-items">
                    <table>
                        <thead>
                            <tr>
                                <th>Description</th>
                                <th>Qty</th>
                                <th>Price</th>
                                <th>Total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Professional Services</td>
                                <td>1</td>
                                <td>$${subtotal.toFixed(2)}</td>
                                <td>$${subtotal.toFixed(2)}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="preview-totals">
                    <div class="total-row">
                        <span>Subtotal:</span>
                        <span>$${subtotal.toFixed(2)}</span>
                    </div>
                    <div class="total-row">
                        <span>Tax (${taxRate}%):</span>
                        <span>$${taxAmount.toFixed(2)}</span>
                    </div>
                    <div class="total-row">
                        <span>Discount:</span>
                        <span>-$${discount.toFixed(2)}</span>
                    </div>
                    <div class="total-row grand-total">
                        <span>Total Due:</span>
                        <span>$${total.toFixed(2)}</span>
                    </div>
                </div>
            </div>
        `;
    }

    // Generate Recurring Invoice Preview
    function generateRecurringPreview() {
        return `
            <div class="preview-recurring">
                <div class="preview-header-recurring">
                    <h2>RECURRING INVOICE</h2>
                    <div class="recurring-badge">Monthly</div>
                </div>
                <div class="preview-subscription">
                    <div class="subscription-details">
                        <p><strong>Client:</strong> Subscription Client</p>
                        <p><strong>Amount:</strong> $100.00/month</p>
                        <p><strong>Next Billing:</strong> ${new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toLocaleDateString()}</p>
                    </div>
                </div>
                <div class="preview-status">
                    <div class="status-active">Active Subscription</div>
                </div>
            </div>
        `;
    }

    // Update Stats
    function updateStats() {
        // Simulate some stats
        document.getElementById('totalInvoiced').textContent = '$2,450.00';
        document.getElementById('invoicesCreated').textContent = '12';
        document.getElementById('timeSaved').textContent = '8h';
    }

    // Action Functions
    function generateCryptoInvoice() {
        alert('Crypto invoice generated! Ready for download.');
        updatePreview();
    }

    function generateRegularInvoice() {
        alert('Regular invoice generated! Ready for download.');
        updatePreview();
    }

    function setupRecurringInvoice() {
        alert('Recurring invoice setup completed!');
        updatePreview();
    }

    function downloadInvoice() {
        alert('In a real application, this would download a PDF invoice.');
    }

    function printInvoice() {
        window.print();
    }

    function shareInvoice() {
        alert('Invoice sharing feature would be implemented here.');
    }

    function saveTemplate() {
        alert('Template saved successfully!');
    }

    function togglePreview() {
        const preview = document.getElementById('invoicePreview');
        preview.classList.toggle('mobile-view');
    }
</script>
</body>
</html>
